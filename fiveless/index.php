<?phpsession_start();define('DB_DRIVER','mysql');define('DB_HOST','localhost');define('DB_NAME','php_1_lesson_7');define('DB_USER','root');define('DB_PASS','');/*-------Для подключения используем PDO-----------*/try{	$connect_str = DB_DRIVER . ':host='. DB_HOST . ';dbname=' . DB_NAME;	$db = new PDO($connect_str,DB_USER,DB_PASS); 	$result = $db->query("SELECT `id` FROM `users` WHERE `login`='$login'");    	$myrow = $result->fetch();    	    	if (!empty($myrow['id'])) {    		exit ("Извините, введённый вами логин уже зарегистрирован. Введите другой логин.");       		}    $nam =  $_SESSION["username" ];     $pas =  $_SESSION["password" ];		    $result2 = $db->exec("INSERT INTO `users` (login,pass,role) VALUES('$nam','$pas',3)");        echo $nam . ', ' . "Добро пожаловать на наш сайт!";         }/*-------В случае ошибки подключения к БД будет сообщение:-----------*/catch(PDOException $e){	die("Error: ".$e->getMessage());}/*--------------------------------------------------------*/function __autoload($classname){	include_once("c/$classname.php");}$action = 'action_';$action .= (isset($_GET['act'])) ? $_GET['act'] : 'index';switch ($_GET['c']){	case 'articles':		$controller = new C_Page();		break;	default:		$controller = new C_Page();}$controller->Request($action);